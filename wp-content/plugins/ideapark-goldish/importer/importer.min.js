!function(a){a(function(){"use strict";function i(){a(".ip-import-demo:checked").each(function(){"yes"===a(this).closest(".ip-demo").data("revslider")?a(".ip-rev-slider-radio").show():a(".ip-rev-slider-radio").hide()})}var t=!1,e=0;function o(i){var r=i;a.post(ideapark_wp_vars_importer.ajaxUrl,i,function(t){try{"completed"==(t=jQuery.parseJSON(t)).code?p():"continue"==t.code?o({action:r.action,stage:"continue",cnt:e++}):(a(".ip-import-output").html("<h3>"+ideapark_wp_vars_importer.output_error+':</h3><div class="ip-import-error">'+t+"</div>"),p()),a(".ip-loading-info").html(ideapark_wp_vars_importer.progress+": "+t.percent),a(".ip-import-output").html(t.msg+("completed"==t.code?"":" ...")),a(".ip-loading-state").width(t.percent)}catch(i){a(".ip-import-output").html("<h3>"+ideapark_wp_vars_importer.output_error+':</h3><div class="ip-import-error">'+t+"</div>"),p()}}).fail(function(i,t,r){a(".ip-import-output").html("<h3>"+ideapark_wp_vars_importer.output_error+':</h3><div class="ip-import-error">'+i.statusText+"</div>"+("Not Found"==i.statusText?"<div>Disable apache mod_security or configure it correctly</div>":"")),p()})}function p(){t=!1,a("#ip-export-submit").removeAttr("disabled"),a("#ip-import-submit").removeAttr("disabled")}a(".ip-import-demo").on("change",i),i(),a("#ip-import-submit").on("click",function(i){return t?alert(ideapark_wp_vars_importer.please_wait):confirm(ideapark_wp_vars_importer.are_you_sure)&&(a("#ip-import-submit").attr("disabled","disabled"),a(".ip-loading-progress").addClass("importing").slideDown(),t=!0,o({action:"ideapark_importer",stage:"start",cnt:e++,import_option:a("#ip-import input[name=import_option]:checked").val(),import_attachments:a("#ip-import input[name=import_attachments]:checked").length?1:0,import_demo:a("#ip-import input[name=import_demo]:checked").val()})),i.preventDefault(),!1}),a("#ip-export-submit").on("click",function(){if(!a("#ip-export-submit").is(":disabled")){a("#ip-export-submit").attr("disabled","disabled"),a(".ip-loading-progress").addClass("importing").slideDown();var i={action:"ideapark_exporter",stage:"start",cnt:e++};return a(".ip-loading-info").html(ideapark_wp_vars_importer.progress+": 0"),a(".ip-loading-state").width(0),o(i),!1}})})}(jQuery);